---
layout: post
title:  "windows 编译databus 运行demo"
category: databus
tags:  databus 
---
## 简单介绍
- jdk1.8
- mysql 5.7+，具体原因参考[databus for mysql wiki](https://github.com/linkedin/databus/wiki/Databus-for-MySQL)
- idea
- gradle 4.5+
##databus github 地址

[databus-github地址](https://github.com/linkedin/databus)



## databus 


### 安装gradle

#### 下载gradle
[gradle下载](https://downloads.gradle.org/distributions/gradle-4.5.1-bin.zip?_ga=2.169882345.835005503.1519697246-1512123566.1519697246)

#### 安装gradle
+ 解压 gradle-4.5.1-bin.zip 到一个目录下
+ 配置环境变量


    1.GRADLE_HOME = E:\dev-tools\gradle-4.5.1
    2.Path = %GRADLE_HOME%\bin
    3.打开命令行工具：gradle -v 



![](https://ywendy.github.io/img/gradle/gradle-2.png)


### 下载databus代码

#### clone 一份代码到本地 
 git clone https://github.com/linkedin/databus.git 
#### 使用idea打开源代码
 + 在databus 主目录下的build.gradle 添加如下代码
```groovy
    tasks.withType(JavaCompile) {
        options.encoding = "UTF-8"
    }
    
    tasks.withType(GroovyCompile) {
        groovyOptions.encoding = "MacRoman"
    }
    
```
+ databus主目录subprojects.gradle 177行修改为
```groovy
    if (JavaVersion.current().isJava8Compatible()) {
      allprojects {
        tasks.withType(Javadoc) {
          options.addStringOption('Xdoclint:none', '-quiet')
          options.encoding("UTF-8")
          options.charSet("UTF-8")
        }
      }
    }
```
+ 在databus主目录下执行编译 
```groovy
   gradle -Dopen_source=true assemble 
```
![](https://ywendy.github.io/img/databus/databus-01.png)




 

































